(this["webpackJsonptmdb-huynh"]=this["webpackJsonptmdb-huynh"]||[]).push([[28],{455:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a(6),c=a.n(n),s=a(14),o=a(34),p=a(0),l=a(99),i=a(22),u=a(72),b=a.n(u),j=a(71),h=a(46),d=function(){var e=Object(s.a)(c.a.mark((function e(t,a){var r,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(h.b,"search/tv"),{params:{api_key:h.a,query:t,page:a}});case 3:return r=e.sent,n=r.data,s=Object(i.a)(Object(i.a)({},n),{},{results:n.results.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{poster_path:e.poster_path?h.f+"w220_and_h330_face"+e.poster_path:j.b})}))}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(c.a.mark((function e(t,a){var r,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(h.b,"search/person"),{params:{api_key:h.a,query:t,page:a}});case 3:return r=e.sent,n=r.data,s=Object(i.a)(Object(i.a)({},n),{},{results:n.results.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{poster_path:e.profile_path?h.f+"w220_and_h330_face"+e.profile_path:j.c})}))}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(s.a)(c.a.mark((function e(t,a){var r,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(h.b,"search/keyword"),{params:{api_key:h.a,query:t,page:a}});case 3:return r=e.sent,n=r.data,s=Object(i.a)({},n),e.abrupt("return",s);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(s.a)(c.a.mark((function e(t,a){var r,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(h.b,"search/company"),{params:{api_key:h.a,query:t,page:a}});case 3:return r=e.sent,n=r.data,s=Object(i.a)(Object(i.a)({},n),{},{results:n.results.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{logo_path:e.logo_path?h.f+"h30"+e.logo_path:null})}))}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(c.a.mark((function e(t,a){var r,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(h.b,"search/collection"),{params:{api_key:h.a,query:t,page:a}});case 3:return r=e.sent,n=r.data,s=Object(i.a)(Object(i.a)({},n),{},{results:n.results.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{poster_path:e.poster_path?h.f+"w220_and_h330_face"+e.poster_path:j.b})}))}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),v=(a(279),a(446)),x=a(401),g=a(425),_=a(229),w=a(18),k=a(194),q=a(309),R=a(444),C=a(280),S=a(454),E=a(445),L=a(11),N=Object(k.a)((function(e){var t;return{tab:(t={padding:"24px 12px",marginRight:0,"&.Mui-selected":{"& $span":{background:"white"}}},Object(w.a)(t,e.breakpoints.down("sm"),{padding:12}),Object(w.a)(t,"&:hover",{"& $span":{background:"white"}}),t),label:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",paddingLeft:4,paddingRight:4,fontWeight:"inherit"},span:{padding:"0 10px",background:"#E0E0E0",borderRadius:10,marginLeft:e.spacing(1)}}})),I=function(e){var t=e.params,a=e.movieResults,n=(e.type,e.query),c=N(),s=Object(q.a)((function(e){return e.breakpoints.down("sm")})),o=[{type:"movie",label:"Movies",total_results:a.movie.total_results},{type:"tv",label:"Tv Shows",total_results:a.tv.total_results},{type:"person",label:"People",total_results:a.people.total_results},{type:"companie",label:"Companies",total_results:a.company.total_results},{type:"collection",label:"Collections",total_results:a.collection.total_results},{type:"keyword",label:"Keywords",total_results:a.keyword.total_results}];return Object(r.jsxs)(R.a,{style:{borderRadius:"8px"},children:[Object(r.jsx)(g.a,{p:2,color:"white",style:{backgroundColor:"#244360"},children:Object(r.jsxs)(C.a,{variant:"h6",children:['Search Results for "',Object(r.jsx)("span",{className:"font-italic",children:n}),'"']})}),Object(r.jsx)(S.a,{orientation:s?"horizontal":"vertical",variant:s?"scrollable":"fullWidth",scrollButtons:"on",indicatorColor:"primary",value:t.type,children:o.map((function(e){return Object(r.jsx)(E.a,{component:L.b,to:"/search/".concat(e.type,"/").concat(n,"/1"),selected:e.type===t.type,value:e.type,className:c.tab,label:Object(r.jsxs)(C.a,{className:c.label,children:[e.label,Object(r.jsx)("span",{className:c.span,children:e.total_results.toLocaleString()})]})},e.type)}))})]})},M=a(215),F=a(301),J=a(210),P=a(73),T=function(e){var t=e.props.match.params,a=parseInt(t.page),n=t.query,i=t.type,u=Object(p.useState)({}),b=Object(o.a)(u,2),j=b[0],h=b[1],w=Object(p.useState)(!0),k=Object(o.a)(w,2),q=k[0],R=k[1],C=Object(p.useState)(!0),S=Object(o.a)(C,2),E=S[0],L=S[1];Object(p.useEffect)((function(){window.scrollTo(0,0),function(){var e=Object(s.a)(c.a.mark((function e(){var t,r,s,p,i,u,b,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,Promise.all([Object(l.a)(n,a),d(n,a),m(n,a),f(n,a),y(n,a),O(n,a)]);case 3:t=e.sent,r=Object(o.a)(t,6),s=r[0],p=r[1],i=r[2],u=r[3],b=r[4],j=r[5],h({movie:s,tv:p,people:i,keyword:u,company:b,collection:j}),R(!1),L(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n,a]);var N=Object(P.useMediaQuery)({query:"(max-device-width: 991.98px)"});return q?Object(r.jsx)(M.a,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{id:"search",children:Object(r.jsx)(v.a,{children:Object(r.jsxs)(x.a,{container:!0,spacing:3,children:[Object(r.jsx)(x.a,{item:!0,md:3,xs:12,children:Object(r.jsx)(I,{params:t,movieResults:j,type:i,query:n})}),Object(r.jsx)(x.a,{item:!0,md:9,xs:12,style:{paddingLeft:N?"12px":"14px"},children:Object(r.jsx)("section",{style:{minHeight:N?"auto":"552px"},children:E?Object(r.jsx)(g.a,{height:350,display:"flex",justifyContent:"center",alignItems:"center",children:Object(r.jsx)(_.a,{color:"primary"})}):Object(r.jsxs)(r.Fragment,{children:["movie"===i&&Object(r.jsx)(F.a,{type:i,movie:j.movie,params:t,search:!0}),"tv"===i&&Object(r.jsx)(F.a,{type:i,movie:j.tv,params:t,search:!0}),"person"===i&&Object(r.jsx)(F.a,{type:i,movie:j.people,params:t,search:!0}),"keyword"===i&&Object(r.jsx)(F.a,{type:i,movie:j.keyword,params:t}),"companie"===i&&Object(r.jsx)(F.a,{type:i,movie:j.company,params:t}),"collection"===i&&Object(r.jsx)(F.a,{type:i,movie:j.collection,params:t})]})})})]})})}),Object(r.jsx)(J.a,{})]})};t.default=function(e){return Object(r.jsx)(T,{props:e})}}}]);
//# sourceMappingURL=28.7f1ae979.chunk.js.map